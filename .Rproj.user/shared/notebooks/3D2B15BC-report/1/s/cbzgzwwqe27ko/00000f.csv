"0","samples_df <- as.data.frame(importance_sample)"
"0","samples_long <- samples_df %>%"
"0","  pivot_longer("
"0","    cols = starts_with(""beta""),"
"0","    names_to = ""parameter"","
"0","    values_to = ""value"""
"0","  ) %>%"
"0","  group_by(parameter) %>%"
"0","  arrange(value) %>%"
"0","  mutate("
"0","    count = n(),"
"0","    rank = row_number(),"
"0","    unweighted_cdf = (rank - 1) / count,"
"0","    weighted_cdf = cumsum(log_weights) / sum(log_weights)"
"0","  ) %>%"
"0","  ungroup()"
"0",""
"0","# Plot both CDFs"
"0","ggplot(samples_long) +"
"0","  geom_step(aes(x = value, y = unweighted_cdf, color = ""red""), linetype = ""dashed"") +"
"0","  geom_step(aes(x = value, y = weighted_cdf, color = ""blue"")) +"
"0","  facet_wrap(~parameter, scales = ""free_x"") +"
"0","  labs("
"0","    title = ""Weighted and Unweighted CDFs for Each Parameter"","
"0","    x = ""Parameter Value"","
"0","    y = ""CDF"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  scale_linetype_manual(values = c(""dashed"", ""solid""))"
